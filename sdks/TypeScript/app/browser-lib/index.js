"use strict";(()=>{var v=Object.defineProperty;var R=(t,e)=>{for(var n in e)v(t,n,{get:e[n],enumerable:!0})};var d=(t,e,n)=>new Promise((i,s)=>{var p=o=>{try{a(n.next(o))}catch(u){s(u)}},C=o=>{try{a(n.throw(o))}catch(u){s(u)}},a=o=>o.done?i(o.value):Promise.resolve(o.value).then(p,C);a((n=n.apply(t,e)).next())});var y={};var l={};R(l,{add_users_to_conversation:()=>I,create_conversation:()=>T,create_user:()=>x,delete_user:()=>h,generate_client_jwt:()=>k,remove_users_from_conversation:()=>b});var c;function m(t){c=t}function g(t,e){let n=c+t;return console.log(["fetch_url",n]),fetch(n,e).then(s=>d(this,null,function*(){switch(console.log(s),s.status){case 200:return s.json();default:return s.json().then(p=>({error:!0,status:s.status,body:p}))}}))}function r(t,e,n){let i=n?JSON.stringify(n):"null",s={Accept:"application/json","Content-Type":"application/json"};return e.session_token&&(s["X-Access-Token"]=e.session_token),g(t,{method:"POST",body:i,headers:s})}function f(t,e){let n={Accept:"application/json","Content-Type":"application/json"};return e.session_token&&(n["X-Access-Token"]=e.session_token),g(t,{method:"DELETE",headers:n})}function x(t,e){return r("/users",t,e)}function h(t,e){return f(`/user/${e}`,t)}function k(t,e){return r("/gen-client-jwt",t,e)}function T(t,e){return r("/conversations",t,e)}function I(t,e,n){return r(`/conversation/${e}/add-users`,t,n)}function b(t,e,n){return r(`/conversation/${e}/remove-users`,t,n)}var U={Types:y,Endpoints:l,init:m},_=U;window.RustSimpleChat=_;})();
//# sourceMappingURL=index.js.map
