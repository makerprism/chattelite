<!-- AUTOMATICALLY GENERATED BY codegen/main.ml -->

# Types

## <a name="UserId">UserId</a>

  is an alias for String

## <a name="ConversationId">ConversationId</a>

  is an alias for String

## <a name="LineId">LineId</a>

  is an alias for String

## <a name="DateTime">DateTime</a>

  is an alias for String

## <a name="User">User</a>

is a struct with these fields:
|name|type|
|-|-|
|display_name|String|
|user_id|[UserId](#UserId)|

## <a name="PaginatedUsers">PaginatedUsers</a>

is a struct with these fields:
|name|type|
|-|-|
|next|Optional (String)|
|prev|Optional (String)|
|objs|Array of ([User](#User))|

## <a name="ParentLine">ParentLine</a>

is a struct with these fields:
|name|type|
|-|-|
|line_id|[LineId](#LineId)|
|timestamp|[DateTime](#DateTime)|
|from|[User](#User)|
|message|String|
|data|String|

## <a name="Line">Line</a>

is a struct with these fields:
|name|type|
|-|-|
|line_id|[LineId](#LineId)|
|timestamp|[DateTime](#DateTime)|
|from|[User](#User)|
|message|String|
|data|String|
|reply_to_line|Nullable ([LineId](#LineId))|

## <a name="Thread">Thread</a>

is a struct with these fields:
|name|type|
|-|-|
|line|[Line](#Line)|
|replies|Array of ([Line](#Line))|

## <a name="ConversationEvent">ConversationEvent</a>

  is one of these variants:

* ConversationEventNewLine

|field_name|type|
|-|-|
|line|[Line](#Line)|

* ConversationEventJoin

|field_name|type|
|-|-|
|timestamp|[DateTime](#DateTime)|
|from|[User](#User)|

* ConversationEventLeave

|field_name|type|
|-|-|
|timestamp|[DateTime](#DateTime)|
|from|[User](#User)|

* ConversationEventStartTyping

|field_name|type|
|-|-|
|timestamp|[DateTime](#DateTime)|
|from|[User](#User)|

* ConversationEventEndTyping

|field_name|type|
|-|-|
|timestamp|[DateTime](#DateTime)|
|from|[User](#User)|


## <a name="Conversation">Conversation</a>

is a struct with these fields:
|name|type|
|-|-|
|conversation_id|[ConversationId](#ConversationId)|
|timestamp|[DateTime](#DateTime)|
|number_of_unread_messages|Integer|
|newest_line|Nullable ([Line](#Line))|

## <a name="PaginatedConversations">PaginatedConversations</a>

is a struct with these fields:
|name|type|
|-|-|
|next|Optional (String)|
|prev|Optional (String)|
|objs|Array of ([Conversation](#Conversation))|

# Endpoints

## <a name="create_user">create_user</a>

create a new user

POST /users

Input body:
  |name|type|
  |-|-|
  |display_name|String|
  |user_id|[UserId](#UserId)|

Response body:
  |name|type|
  |-|-|
  |user_id|[UserId](#UserId)|

## <a name="users">users</a>

list users

GET /users

Query Parameters:
  |name|type|
  |-|-|
  |name|Optional (String)|
  |next|Optional (String)|
  |prev|Optional (String)|
  |limit|Optional (Integer)|

Response body:
  |name|type|
  |-|-|
  |users|[PaginatedUsers](#PaginatedUsers)|

## <a name="get_user">get_user</a>

get user by id

GET /user/{user_id}

URL params:
  |name|type|
  |-|-|
  |user_id|[UserId](#UserId)|

Response body:
  |name|type|
  |-|-|
  |user|[User](#User)|

## <a name="delete_user">delete_user</a>

delete user by id

DELETE /user/{user_id}

URL params:
  |name|type|
  |-|-|
  |user_id|[UserId](#UserId)|